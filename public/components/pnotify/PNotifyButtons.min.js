/**
 * @module       PNotify Buttons
 * @author       Hunter Perrin
 * @see          https://github.com/sciactive/pnotify
 * @requires     script:PNotify
 */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},PNotifyButtons=function(t){"use strict";function e(t){var e=t.sticker,n=t._notice;return e&&!(n&&n.refs.elem.classList.contains("nonblock"))}function n(t){var e=t.closer,n=t._notice;return e&&!(n&&n.refs.elem.classList.contains("nonblock"))}function i(t){var e=t.classes,n=t._notice;return n?null===e.pinUp?n.get()._icons.pinUp:e.pinUp:""}function o(t){var e=t.classes,n=t._notice;return n?null===e.pinDown?n.get()._icons.pinDown:e.pinDown:""}function s(t){var e=t.classes,n=t._notice;return n?null===e.closer?n.get()._icons.closer:e.closer:""}function r(){return _extends({_notice:null,_options:{},_mouseIsIn:!1},t.modules.Buttons.defaults)}function a(){this.fire("init",{module:this})}function l(e){e.key="Buttons",e.defaults={closer:!0,closerHover:!0,sticker:!0,stickerHover:!0,labels:{close:"Close",stick:"Stick",unstick:"Unstick"},classes:{closer:null,pinUp:null,pinDown:null}},t.modules.Buttons=e,t.modulesPrependContainer.push(e),_extends(t.icons.brighttheme,{closer:"brighttheme-icon-closer",pinUp:"brighttheme-icon-sticker",pinDown:"brighttheme-icon-sticker brighttheme-icon-stuck"}),_extends(t.icons.bootstrap3,{closer:"glyphicon glyphicon-remove",pinUp:"glyphicon glyphicon-pause",pinDown:"glyphicon glyphicon-play"}),_extends(t.icons.fontawesome4,{closer:"fa fa-times",pinUp:"fa fa-pause",pinDown:"fa fa-play"}),_extends(t.icons.fontawesome5,{closer:"fas fa-times",pinUp:"fas fa-pause",pinDown:"fas fa-play"})}function c(){var t=p("style");t.id="svelte-1yjle82-style",t.textContent=".ui-pnotify-closer.svelte-1yjle82,.ui-pnotify-sticker.svelte-1yjle82{float:right;margin-left:.5em;cursor:pointer}[dir=rtl] .ui-pnotify-closer.svelte-1yjle82,[dir=rtl] .ui-pnotify-sticker.svelte-1yjle82{float:left;margin-right:.5em;margin-left:0}.ui-pnotify-buttons-hidden.svelte-1yjle82{visibility:hidden}",m(document.head,t)}function u(t,e){var n,i,o=e._showCloser&&h(t,e),s=e._showSticker&&d(t,e);return{c:function(){o&&o.c(),n=g("\n"),s&&s.c(),i=v()},m:function(t,e){o&&o.m(t,e),y(t,n,e),s&&s.m(t,e),y(t,i,e)},p:function(e,r){r._showCloser?o?o.p(e,r):(o=h(t,r),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),r._showSticker?s?s.p(e,r):(s=d(t,r),s.c(),s.m(i.parentNode,i)):s&&(s.d(1),s=null)},d:function(t){o&&o.d(t),t&&_(n),s&&s.d(t),t&&_(i)}}}function h(t,e){function n(e){t.handleCloserClick()}var i,o,s,r;return{c:function(){i=p("div"),o=p("span"),o.className=""+e._closerClass+" svelte-1yjle82",b(i,"click",n),i.className=s="ui-pnotify-closer "+(!e.closerHover||e._mouseIsIn?"":"ui-pnotify-buttons-hidden")+" svelte-1yjle82",k(i,"role","button"),i.tabIndex="0",i.title=r=e.labels.close},m:function(t,e){y(t,i,e),m(i,o)},p:function(t,e){t._closerClass&&(o.className=""+e._closerClass+" svelte-1yjle82"),(t.closerHover||t._mouseIsIn)&&s!==(s="ui-pnotify-closer "+(!e.closerHover||e._mouseIsIn?"":"ui-pnotify-buttons-hidden")+" svelte-1yjle82")&&(i.className=s),t.labels&&r!==(r=e.labels.close)&&(i.title=r)},d:function(t){t&&_(i),w(i,"click",n)}}}function d(t,e){function n(e){t.handleStickerClick()}var i,o,s,r,a,l;return{c:function(){i=p("div"),o=p("span"),o.className=s=""+(e._options.hide?e._pinUpClass:e._pinDownClass)+" svelte-1yjle82",b(i,"click",n),i.className=r="ui-pnotify-sticker "+(!e.stickerHover||e._mouseIsIn?"":"ui-pnotify-buttons-hidden")+" svelte-1yjle82",k(i,"role","button"),k(i,"aria-pressed",a=e._options.hide),i.tabIndex="0",i.title=l=e._options.hide?e.labels.stick:e.labels.unstick},m:function(t,e){y(t,i,e),m(i,o)},p:function(t,e){(t._options||t._pinUpClass||t._pinDownClass)&&s!==(s=""+(e._options.hide?e._pinUpClass:e._pinDownClass)+" svelte-1yjle82")&&(o.className=s),(t.stickerHover||t._mouseIsIn)&&r!==(r="ui-pnotify-sticker "+(!e.stickerHover||e._mouseIsIn?"":"ui-pnotify-buttons-hidden")+" svelte-1yjle82")&&(i.className=r),t._options&&a!==(a=e._options.hide)&&k(i,"aria-pressed",a),(t._options||t.labels)&&l!==(l=e._options.hide?e.labels.stick:e.labels.unstick)&&(i.title=l)},d:function(t){t&&_(i),w(i,"click",n)}}}function f(t){var e=this;x(this,t),this._state=C(r(),t.data),this._recompute({sticker:1,_notice:1,closer:1,classes:1},this._state),this._intro=!0,document.getElementById("svelte-1yjle82-style")||c(),this._fragment=u(this,this._state),this.root._oncreate.push(function(){a.call(e),e.fire("update",{changed:S({},e._state),current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),N(this))}function p(t){return document.createElement(t)}function m(t,e){t.appendChild(e)}function g(t){return document.createTextNode(t)}function v(){return document.createComment("")}function y(t,e,n){t.insertBefore(e,n)}function _(t){t.parentNode.removeChild(t)}function b(t,e,n,i){t.addEventListener(e,n,i)}function k(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function w(t,e,n,i){t.removeEventListener(e,n,i)}function x(t,e){t._handlers=O(),t._slots=O(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function C(t,e){for(var n in e)t[n]=e[n];return t}function S(t,e){for(var n in e)t[n]=1;return t}function N(t){t._lock=!0,j(t._beforecreate),j(t._oncreate),j(t._aftercreate),t._lock=!1}function $(t){this.destroy=L,this.fire("destroy"),this.set=L,this._fragment.d(t!==!1),this._fragment=null,this._state={}}function E(){return this._state}function T(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var i=0;i<n.length;i+=1){var o=n[i];if(!o.__calling)try{o.__calling=!0,o.call(this,e)}finally{o.__calling=!1}}}function P(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function D(t){this._set(C({},t)),this.root._lock||N(this.root)}function M(t){var e=this._state,n={},i=!1;t=C(this._staged,t),this._staged={};for(var o in t)this._differs(t[o],e[o])&&(n[o]=i=!0);i&&(this._state=C(C({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))}function z(t){C(this._staged,t)}function I(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)}function B(t,e){return t!=t?e==e:t!==e||t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))||"function"==typeof t}function O(){return Object.create(null)}function j(t){for(;t&&t.length;)t.shift()()}function L(){}t=t&&t.__esModule?t["default"]:t;var A={initModule:function(t){var e=this;this.set(t);var n=this.get(),i=n._notice;i.on("mouseenter",function(){return e.set({_mouseIsIn:!0})}),i.on("mouseleave",function(){return e.set({_mouseIsIn:!1})}),i.on("state",function(t){var n=t.changed,i=t.current;if(n.hide){var o=e.get(),s=o.sticker;if(s){var r=i.hide?e.get().classes.pinUp:e.get().classes.pinDown;("fontawesome5"===e.get()._notice.get().icons||"string"==typeof r&&r.match(/(^| )fa[srlb]($| )/))&&(e.set({sticker:!1}),e.set({sticker:!0}))}}})},handleStickerClick:function(){var t=this.get(),e=t._notice;e.update({hide:!e.get().hide})},handleCloserClick:function(){this.get()._notice.close(!1),this.set({_mouseIsIn:!1})}};return C(f.prototype,{destroy:$,get:E,fire:T,on:P,set:D,_set:M,_stage:z,_mount:I,_differs:B}),C(f.prototype,A),f.prototype._recompute=function(t,r){(t.sticker||t._notice)&&this._differs(r._showSticker,r._showSticker=e(r))&&(t._showSticker=!0),(t.closer||t._notice)&&this._differs(r._showCloser,r._showCloser=n(r))&&(t._showCloser=!0),(t.classes||t._notice)&&(this._differs(r._pinUpClass,r._pinUpClass=i(r))&&(t._pinUpClass=!0),this._differs(r._pinDownClass,r._pinDownClass=o(r))&&(t._pinDownClass=!0),this._differs(r._closerClass,r._closerClass=s(r))&&(t._closerClass=!0))},l(f),f}(PNotify);
